(this.webpackJsonpwmc=this.webpackJsonpwmc||[]).push([[0],{110:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(17),s=n.n(r),o=(n(97),n(7)),i=n(43),l=n(18),u=n(76),d=n.n(u),j=n(1);function b(){return Object(j.jsx)("div",{className:"position-fixed top-0 left-0 d-flex justify-content-center align-items-center global-loader",children:Object(j.jsx)(d.a,{size:60,color:"#36D7B7"})})}var m=n(189),f=n(188),p=(n(64),n(38)),O=n(149),x=Object(O.a)((function(e){return{root:{display:"flex",width:"100vw",overflowX:"hidden"},drawer:Object(p.a)({},e.breakpoints.up("sm"),{width:255,flexShrink:0}),menuButton:Object(p.a)({},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:255},content:{flexGrow:1,height:"100vh",overflowX:"hidden"}}})),h=n(33),g=n.n(h),v=n(23),y=n(152),N=n(154),w=n(155),C=n(156),k=Object(c.createContext)();function S(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(j.jsx)(k.Provider,{value:{navigator:a,setNavigator:r},children:e.children})}var I=n(5),T=n.n(I),Y=n(11),q=n(186),P=function(){var e=localStorage.getItem("StudentToken")||null;return null===e?null:JSON.parse(atob(e.split(".")[1]))},A=new q.a(P());function E(e){return D.apply(this,arguments)}function D(){return(D=Object(Y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("https://student-companion-backend.herokuapp.com"),e.abrupt("return",fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:t.firstName,lastName:t.lastName,emailId:t.emailId,isAdmin:t.isAdmin,enrollmentNumber:t.enrollmentNumber,password:t.password,programme:t.programme})}).then((function(e){return e.json()})).catch((function(e){return console.log(e),{status:!1,message:"Something Went Wrong!"}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return U.apply(this,arguments)}function U(){return(U=Object(Y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("https://student-companion-backend.herokuapp.com"),e.abrupt("return",fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailId:t.emailId,password:t.password})}).then((function(e){return e.json()})).then((function(e){return e.status&&(localStorage.setItem("StudentToken",e.token),A.next(P)),e})).catch((function(e){return{status:!1,message:"Something Went Wrong!"}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){Object(l.f)().pathname.split("/")[1];var e=Object(c.useContext)(k),t=e.navigator,n=e.setNavigator,a=Object(c.useState)(A.value),r=Object(o.a)(a,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){var e=A.subscribe((function(e){return i(e)}));return function(){e.unsubscribe()}}),[]),Object(j.jsxs)("div",{className:"w-100 h-100 side-navbar",children:[Object(j.jsx)("img",{className:"mt-3 mx-3",src:"guide.png"}),Object(j.jsx)("div",{className:"d-flex flex-column mt-5",children:s.isAdmin?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{onClick:function(){return n(0)},className:"w-100 d-flex px-4 py-3 side-nav-item"+(0===t?" active":""),children:[Object(j.jsx)(y.a,{}),"Todos"]}),Object(j.jsxs)("div",{onClick:function(){return n(1)},className:"w-100 d-flex px-4 py-3 side-nav-item"+(1===t?" active":""),children:[Object(j.jsx)(N.a,{}),"Course"]}),Object(j.jsxs)("div",{onClick:function(){return n(2)},className:"w-100 d-flex px-4 py-3 side-nav-item"+(2===t?" active":""),children:[Object(j.jsx)(w.a,{}),"Stuent Enrollment"]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{onClick:function(){return n(0)},className:"w-100 d-flex px-4 py-3 side-nav-item"+(0===t?" active":""),children:[Object(j.jsx)(y.a,{}),"Todos"]}),Object(j.jsxs)("div",{onClick:function(){return n(1)},className:"w-100 d-flex px-4 py-3 side-nav-item"+(1===t?" active":""),children:[Object(j.jsx)(C.a,{}),"My Courses"]}),Object(j.jsxs)("div",{onClick:function(){return n(2)},className:"w-100 d-flex px-4 py-3 side-nav-item"+(2===t?" active":""),children:[Object(j.jsx)(N.a,{}),"Courses"]})]})})]})}var F=n(183),B=n(178),W=n(191),L=n(81),z=n(192),_=n(184),G=n(185),J=Object(c.createContext)();function H(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(j.jsx)(J.Provider,{value:{globalLoading:a,setGlobalLoading:r},children:e.children})}var X=n(8),K=n(163),Q=n(187),V=n(159),Z=n(165),$=n(166),ee=n(167),te=n(168),ne=n(169),ce=n(170),ae=n(171),re=n(160),se=n(21),oe=n.n(se),ie=n(10);function le(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(Y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(new FormData).append("filter",t),e.abrupt("return",fetch("/api/todo/get",{method:"POST",headers:{Authorization:localStorage.getItem("StudentToken"),"Content-Type":"application/json"},body:JSON.stringify({filter:t})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to fetch Todos"}})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return je.apply(this,arguments)}function je(){return(je=Object(Y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/todo/add",{method:"POST",headers:{"Content-Type":"application/json",authorization:localStorage.getItem("StudentToken")},body:JSON.stringify({task:t.task,description:t.description})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to Add Todo"}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return me.apply(this,arguments)}function me(){return(me=Object(Y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/todo/update",{method:"POST",headers:{"Content-Type":"application/json",authorization:localStorage.getItem("StudentToken")},body:JSON.stringify({_id:t._id,task:t.task,description:t.description,done:t.done})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to Update Todo"}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(Y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/todo/delete",{method:"POST",headers:{"Content-Type":"application/json",authorization:localStorage.getItem("StudentToken")},body:JSON.stringify({_id:t})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to Delete Todo"}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t){return xe.apply(this,arguments)}function xe(){return(xe=Object(Y.a)(T.a.mark((function e(t,n){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Date(t),e.abrupt("return",fetch("/api/todo/reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schedule:"".concat(c.getSeconds()," ").concat(c.getMinutes()," ").concat(c.getHours()," ").concat(c.getDate()," ").concat(c.getMonth()+1," ").concat(c.getDay()),emailId:n.emailId,task:n.task})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to Enroll Students"}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=n(157),ge=n(158),ve=n(161),ye=n(162);function Ne(e){return Object(j.jsxs)(he.a,{open:e.open||!1,onClose:e.close,fullWidth:!0,className:"confirm-dialog",children:[Object(j.jsx)(ge.a,{children:Object(j.jsxs)("div",{className:"d-flex align-items-center confirm-dialog-title",children:[Object(j.jsx)(V.a,{className:"confirm-dialog-title-icon",children:Object(j.jsx)(re.a,{})}),"Delete the ".concat(e.item," ?")]})}),Object(j.jsx)(ve.a,{className:"confirm-content",children:"If you delete, the ".concat(e.item," will be gone forever . Are you sure want to proceed?")}),Object(j.jsxs)(ye.a,{children:[Object(j.jsx)(K.a,{variant:"contained",onClick:function(){return e.close()},children:"Cancel"}),Object(j.jsx)(K.a,{variant:"contained",color:"secondary",onClick:e.action,children:"Yes"})]})]})}var we=n(164);n(65);function Ce(e){var t=Object(c.useState)(e.todo||{task:"",description:""}),n=Object(o.a)(t,2),a=n[0],r=n[1],s=Object(c.useContext)(J).setGlobalLoading;Object(c.useEffect)((function(){r(e.todo||{task:"",description:""})}),[e.todo]),console.log(e,a);var i=function(){var t=Object(Y.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,de(a);case 4:if(n=t.sent,s(!1),!n.status){t.next=14;break}return ie.a.success(n.message),t.next=10,e.FetchTodos();case 10:r({task:"",description:""}),e.close(),t.next=15;break;case 14:ie.a.error(n.message);case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),s(!1),ie.a.error("Unable to add Todo");case 21:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(Y.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,be(a);case 4:if(n=t.sent,s(!1),!n.status){t.next=14;break}return ie.a.success(n.message),t.next=10,e.updateTodo(a);case 10:r({task:"",description:""}),e.close(),t.next=15;break;case 14:ie.a.error(n.message);case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),s(!1),ie.a.error("Unable to Update Todo");case 21:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)(he.a,{open:e.open,fullWidth:!0,className:"operation-dialog",children:[Object(j.jsx)(ye.a,{children:Object(j.jsx)(we.a,{onClick:function(){r({task:"",description:""}),e.close()},style:{color:"lightgrey",cursor:"pointer"}})}),Object(j.jsx)(ge.a,{className:"dialog-title",children:e.todo?"Update Todo":"Add Todo"}),Object(j.jsxs)(ve.a,{children:[Object(j.jsxs)("form",{children:[Object(j.jsx)(Q.a,{label:"Task Name",className:"my-2 col-lg-7 col-md-8 col-11",value:a.task,onChange:function(e){return r(Object(X.a)(Object(X.a)({},a),{},{task:e.target.value}))},required:!0}),Object(j.jsx)(Q.a,{label:"Description",multiline:!0,rows:4,className:"my-2 col-lg-7 col-md-8 col-11",value:a.description,onChange:function(e){return r(Object(X.a)(Object(X.a)({},a),{},{description:e.target.value}))},required:!0})]}),Object(j.jsxs)(ye.a,{children:[Object(j.jsx)(K.a,{variant:"outlined",onClick:function(){r({task:"",description:""}),e.close()},children:"Cancel"}),Object(j.jsx)(K.a,{variant:"contained",onClick:e.todo?l:i,disabled:""===a.task||""===a.description,color:"primary",children:"Save"})]})]})]})}function ke(e){var t=Object(c.useState)({task:e.task,emailId:e.emailId}),n=Object(o.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useContext)(J).setGlobalLoading;Object(c.useEffect)((function(){r({task:e.task,emailId:e.emailId})}),[e.task,e.emailId]);var b=function(){var t=Object(Y.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,Oe(l,a);case 4:(n=t.sent).status?(d(!1),ie.a.success(n.message),e.close()):(d(!1),ie.a.error("Unable to Set Reminder")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),d(!1),ie.a.error("Unable to Set Reminder");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)(he.a,{open:e.open,fullWidth:!0,className:"operation-dialog",children:[Object(j.jsx)(ye.a,{children:Object(j.jsx)(we.a,{onClick:function(){r({task:e.task,emailId:e.emailId}),e.close()},style:{color:"lightgrey",cursor:"pointer"}})}),Object(j.jsx)(ge.a,{className:"dialog-title",children:"Set Reminder"}),Object(j.jsxs)(ve.a,{children:[Object(j.jsx)("form",{children:Object(j.jsx)(Q.a,{label:"Date",focused:!0,className:"my-2 col-lg-7 col-md-8 col-11",value:l,onChange:function(e){return u(e.target.value)},required:!0,type:"datetime-local"})}),Object(j.jsxs)(ye.a,{children:[Object(j.jsx)(K.a,{variant:"outlined",onClick:function(){r({task:e.task,emailId:e.emailId}),e.close()},children:"Cancel"}),Object(j.jsx)(K.a,{variant:"contained",onClick:b,disabled:""===l,color:"primary",children:"Save"})]})]})]})}function Se(){var e=Object(c.useState)("loading"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(A.value),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),b=d[0],m=d[1],f=Object(c.useState)("All"),O=Object(o.a)(f,2),x=O[0],h=O[1],v=Object(c.useState)(!1),y=Object(o.a)(v,2),N=y[0],w=y[1],C=Object(c.useState)({open:!1,task:!1,emailId:i.emailId||""}),k=Object(o.a)(C,2),S=k[0],I=k[1],q=Object(c.useState)(-1),P=Object(o.a)(q,2),E=P[0],D=P[1],R=Object(c.useState)(!1),U=Object(o.a)(R,2),M=U[0],F=U[1],B=Object(c.useContext)(J).setGlobalLoading,W=Object(c.useState)({open:!1,idx:!1}),L=Object(o.a)(W,2),z=L[0],_=L[1];Object(c.useEffect)((function(){var e=A.subscribe((function(e){return l(e)}));return function(){e.unsubscribe()}}),[]);var G=function(){_({open:!1,idx:!1})},H=function(){var e=document.querySelectorAll(".todo-details"),t=document.querySelector(".todos-container"),n=document.querySelector("#main-container");if(void 0!==e&&void 0!==t&&e.length>0)if(n.offsetWidth<e[0].offsetWidth)for(var c=0;c<e.length;c++)e[c].style.transform="scale(".concat(n.offsetWidth/e[c].offsetWidth-.03,")"),e[c].style.transformOrigin="center center",t.style.rowGap="0rem 0rem";else for(var a=0;a<e.length;a++)e[a].style.transform="scale(1)",e[a].style.transformOrigin="0% 0%",t.style.rowGap="0rem 0.8rem"},oe=function(){var e=Object(Y.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,le(x);case 4:t=e.sent,m(!1),t.status?a(t.todos):(a([]),ie.a.error("Unable to get Todos")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),m(!1),ie.a.error("Unable to get Todos");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ue=function(e){var t=n.map((function(t){return t._id==e._id?e:t}));a(t)},de=function(){var e=Object(Y.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),t=Object(X.a)(Object(X.a)({},t),{},{done:!t.done}),e.prev=2,e.next=5,be(t);case 5:if(!(n=e.sent).status){e.next=13;break}return ie.a.success(n.message),e.next=10,ue(t);case 10:B(!1),e.next=15;break;case 13:ie.a.error(n.message),B(!1);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),B(!1),ie.a.error("Unable to Update Todo");case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(Y.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(),B(!0),e.prev=2,e.next=5,fe(t);case 5:if(!(n=e.sent).status){e.next=14;break}return ie.a.success(n.message),e.next=10,oe();case 10:B(!1),D(-1),e.next=16;break;case 14:ie.a.error(n.message),B(!1);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),B(!1),ie.a.error("Unable to Delete Todo");case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){oe(x)}),[x]),Object(c.useEffect)((function(){return H(),window.addEventListener("resize",H),function(){window.removeEventListener("resize",H)}}),[n]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"w-100 mt-4 px-lg-5 px-md-4 px-1 d-flex justify-content-between align-items-center",children:[Object(j.jsx)(K.a,{variant:"contained",onClick:function(){return w(!0)},startIcon:Object(j.jsx)(Z.a,{}),color:"primary",children:"Add Todo"}),Object(j.jsxs)(Q.a,{select:!0,SelectProps:{native:!0},value:x,onChange:function(e){return h(e.target.value)},children:[Object(j.jsx)("option",{value:"All",children:"All"}),Object(j.jsx)("option",{value:!0,children:"Completed"}),Object(j.jsx)("option",{value:!1,children:"Pending"})]})]}),"loading"===n||b?Object(j.jsx)("div",{className:"w-100 mt-4 text-center",children:Object(j.jsx)(g.a,{size:15,margin:2,color:"#36D7B7"})}):Object(j.jsx)(j.Fragment,{children:0===n.length?Object(j.jsxs)("h4",{className:"text-center mt-5 no-data-found",children:["No Data Found ",Object(j.jsx)($.a,{})]}):Object(j.jsx)("div",{className:"w-100 mt-4 d-flex flex-column justify-content-between align-items-center todos-container px-lg-5 px-md-4 px-1 mx-auto",children:n.map((function(e,t){var n,c;return Object(j.jsxs)("span",{className:"w-100 todo-details",children:[Object(j.jsxs)("div",{className:"w-100 d-flex justify-content-between align-items-center todo py-0",children:[Object(j.jsx)("span",{children:Object(j.jsx)(V.a,{className:"col-1 fab-button "+(e.done?"completed":"not_completed"),children:Object(j.jsx)(ee.a,{className:e.done?"completed":"not_completed"})})}),Object(j.jsx)("span",{className:"col-4",children:e.task}),Object(j.jsx)("span",{className:"cl-3",children:(c=e.created_at,se(new Date(1e3*c)).format("DD-MM-YYYY"))}),Object(j.jsx)("span",(n={className:"col-3"},Object(p.a)(n,"className",e.done?"completed":"not_completed"),Object(p.a)(n,"style",{backgroundColor:"white"}),Object(p.a)(n,"children",Object(j.jsx)("li",{children:e.done?"Completed":"Pending"})),n)),Object(j.jsx)("span",{className:"col-1",children:E!==t?Object(j.jsx)(te.a,{onClick:function(){return D(t)},style:{color:"lightgrey",cursor:"pointer"}}):Object(j.jsx)(ne.a,{onClick:function(){return D(-1)},style:{color:"lightgrey",cursor:"pointer"}})})]}),E===t&&Object(j.jsxs)("div",{className:"w-100 mt-4 ps-3 todo-description",children:[Object(j.jsx)("h5",{children:"Description"}),Object(j.jsx)("p",{className:"ps-2",children:e.description}),Object(j.jsxs)("div",{className:"mt-3 mb-3 d-flex align-items-center flex-wrap",children:[Object(j.jsx)(K.a,{variant:"contained",onClick:function(){return de(e)},startIcon:Object(j.jsx)(ee.a,{}),className:"mark-completed-btn",children:e.done?"Mark Pending":"Mark Complted"}),Object(j.jsx)(K.a,{variant:"contained",onClick:function(){return I({open:!0,task:e.task,emailId:i.emailId})},startIcon:Object(j.jsx)(ce.a,{}),color:"primary",children:"Set Reminder"}),Object(j.jsx)(K.a,{variant:"outlined",onClick:Object(Y.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:w(!0);case 3:case"end":return t.stop()}}),t)}))),startIcon:Object(j.jsx)(ae.a,{}),children:"Edit"}),Object(j.jsx)(K.a,{variant:"contained",onClick:function(){_({open:!0,idx:e._id})},startIcon:Object(j.jsx)(re.a,{}),className:"delete-btn",children:"Delete"})]})]})]},e._id)}))})}),S.open&&Object(j.jsx)(ke,{open:S.open,task:S.task,emailId:S.emailId,close:function(){I({open:!1,task:!1,emailId:i.emailId||""})}}),Object(j.jsx)(Ce,{close:function(){w(!1),F(!1)},open:N,todo:M,updateTodo:ue,FetchTodos:oe}),Object(j.jsx)(Ne,{open:z.open,item:"Course",close:G,action:function(){return je(z.idx)}})]})}var Ie=n(174),Te=n(175),Ye=n(176),qe=n(177),Pe=n(179),Ae=n(180),Ee=n(181);function De(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(Y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/course/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseName:t.courseName,courseCode:t.courseCode,credits:t.credits,prerequisites:t.prerequisites,courseDescription:t.courseDescription,faculty:t.faculty,categoryIds:t.categoryIds,schedule:t.schedule,school:t.school})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to Add Course"}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(Y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/course/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseName:t.courseName,courseCode:t.courseCode,credits:t.credits,prerequisites:t.prerequisites,courseDescription:t.courseDescription,faculty:t.faculty,categoryIds:t.categoryIds,schedule:t.schedule,school:t.school})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to Update Course"}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t,n){return Be.apply(this,arguments)}function Be(){return(Be=Object(Y.a)(T.a.mark((function e(t,n,c){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/course/addRating",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t,rating:{rating:c,comment:n||""}})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to Add Rating"}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(Y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/course/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to Delete Course"}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){return _e.apply(this,arguments)}function _e(){return(_e=Object(Y.a)(T.a.mark((function e(){var t,n=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.abrupt("return",fetch("/api/course/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:t})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to get Course"}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return Je.apply(this,arguments)}function Je(){return(Je=Object(Y.a)(T.a.mark((function e(){var t,n,c=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:"",e.abrupt("return",fetch("/api/course/enrolledIn",{method:"POST",headers:{"Content-Type":"application/json",authorization:localStorage.getItem("StudentToken")},body:JSON.stringify({semester:t,year:n})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to get Course"}})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t,n){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(Y.a)(T.a.mark((function e(t,n,c){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],console.log(c),t.map((function(e){console.log(e),a.push({student:e.student,year:parseInt(n.year),course:c.get(n.course),semester:n.semester})})),e.abrupt("return",fetch("/api/course/enrollInCourse",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({students:a})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to Enroll Students"}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=n(172),Qe=n(173);function Ve(e){return Object(j.jsxs)("span",{className:"d-flex align-items-center",children:[Object(j.jsx)("span",{className:"me-1",onMouseOver:function(){e.readonly||e.setRating(parseInt(1))},children:parseInt(e.value)>=1?Object(j.jsx)(Ke.a,{style:{color:"#ffff00"}}):Object(j.jsx)(Qe.a,{style:{color:"#ffff00"}})}),Object(j.jsx)("span",{className:"me-1",onMouseOver:function(){e.readonly||e.setRating(parseInt(2))},children:parseInt(e.value)>=2?Object(j.jsx)(Ke.a,{style:{color:"#ffff00"}}):Object(j.jsx)(Qe.a,{style:{color:"#ffff00"}})}),Object(j.jsx)("span",{className:"me-1",onMouseOver:function(){e.readonly||e.setRating(3)},children:parseInt(e.value)>=3?Object(j.jsx)(Ke.a,{style:{color:"#ffff00"}}):Object(j.jsx)(Qe.a,{style:{color:"#ffff00"}})}),Object(j.jsx)("span",{className:"me-1",onMouseOver:function(){e.readonly||e.setRating(4)},children:parseInt(e.value)>=4?Object(j.jsx)(Ke.a,{style:{color:"#ffff00"}}):Object(j.jsx)(Qe.a,{style:{color:"#ffff00"}})}),Object(j.jsx)("span",{className:"me-1",onMouseOver:function(){e.readonly||e.setRating(5)},children:parseInt(e.value)>=5?Object(j.jsx)(Ke.a,{style:{color:"#ffff00"}}):Object(j.jsx)(Qe.a,{style:{color:"#ffff00"}})})]})}n(74);var Ze=n(190);function $e(e){var t=Object(c.useState)(e.course||{courseName:"",courseCode:"",credits:"",prerequisites:[],courseDescription:"",faculty:"",categoryIds:[],schedule:[],school:"Seas"}),n=Object(o.a)(t,2),a=n[0],r=n[1],s={courseName:"",courseCode:"",credits:"",prerequisites:[],courseDescription:"",faculty:"",categoryIds:[],schedule:[],school:"Seas"},i=Object(c.useContext)(J).setGlobalLoading,l=Object(c.useState)(!1),u=Object(o.a)(l,2),d=u[0],b=u[1],m=Object(c.useRef)(""),f=Object(c.useRef)(""),p=Object(c.useRef)(""),O=Object(c.useRef)(""),x=Object(c.useRef)(""),h=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];Object(c.useEffect)((function(){r(e.course||s)}),[e.course]),Object(c.useEffect)((function(){var e=!0;Object.keys(a).map((function(t){"prequisites"===t||"ratings"===t||""!==a[t]&&0!==a[t].length||(e=!1)})),b(e)}),[a]);var g=function(e){return function(){var t=[];a.prerequisites.map((function(n){n!==e&&t.push(n)})),r(Object(X.a)(Object(X.a)({},a),{},{prerequisites:t}))}},v=function(e){return function(){var t=[];a.categoryIds.map((function(n){n!==e&&t.push(n)})),r(Object(X.a)(Object(X.a)({},a),{},{categoryIds:t}))}},y=function(e){return function(){var t=[];a.schedule.map((function(n){"".concat(e.day,"-").concat(e.time)!=="".concat(n.day,"-").concat(n.time)&&t.push(n)})),r(Object(X.a)(Object(X.a)({},a),{},{schedule:t}))}};console.log(a);var N=function(){var t=Object(Y.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,t.next=4,De(a);case 4:if(!(n=t.sent).status){t.next=13;break}return ie.a.success(n.message),i(!1),t.next=10,e.FetchCourses();case 10:e.close(),t.next=16;break;case 13:console.log(n),ie.a.error(n.message),i(!1);case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),ie.a.error("Unable to Add Course"),i(!1);case 22:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(Y.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,t.next=4,Ue(a);case 4:if(n=t.sent,i(!1),!n.status){t.next=14;break}return ie.a.success(n.message),t.next=10,e.updateCourse(a);case 10:r(s),e.close(),t.next=15;break;case 14:ie.a.error(n.message);case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),i(!1),ie.a.error("Unable to Update Course");case 21:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)(he.a,{open:e.open,fullWidth:!0,className:"operation-dialog",children:[Object(j.jsx)(ye.a,{children:Object(j.jsx)(we.a,{onClick:function(){r(s),e.close()},style:{color:"lightgrey",cursor:"pointer"}})}),Object(j.jsx)(ge.a,{className:"dialog-title",children:e.course?"Update Course":"Add Course"}),Object(j.jsxs)(ve.a,{children:[Object(j.jsxs)("form",{children:[Object(j.jsx)(Q.a,{label:"Course Name",className:"my-2 col-lg-7 col-md-8 col-11",value:a.courseName,onChange:function(e){return r(Object(X.a)(Object(X.a)({},a),{},{courseName:e.target.value}))},required:!0}),Object(j.jsx)(Q.a,{label:"Course Code",className:"my-2 col-lg-7 col-md-8 col-11",value:a.courseCode,onChange:function(e){return r(Object(X.a)(Object(X.a)({},a),{},{courseCode:e.target.value}))},required:!0}),Object(j.jsx)(Q.a,{label:"Credits",className:"my-2 col-lg-7 col-md-8 col-11",type:"Number",value:a.credits,onChange:function(e){return r(Object(X.a)(Object(X.a)({},a),{},{credits:e.target.value}))},required:!0}),Object(j.jsxs)("div",{className:"my-2",children:[Object(j.jsxs)("div",{className:"d-flex align-items-end",children:[Object(j.jsx)(Q.a,{label:"Prerequisites",inputRef:m}),Object(j.jsx)(K.a,{variant:"contained",color:"secondary",className:"ms-3",onClick:function(){if(""!==m.current.value){var e=a.prerequisites;e.push(m.current.value),r(Object(X.a)(Object(X.a)({},a),{},{prerequisites:e})),m.current.value=""}},children:"Add"})]}),a.prerequisites.map((function(e,t){return Object(j.jsx)(Ze.a,{className:"my-2",label:e,onDelete:g(e),variant:"outlined",color:"secondary"},t)}))]}),Object(j.jsx)(Q.a,{label:"Course Description",className:"my-2 col-lg-7 col-md-8 col-11",multiline:!0,rows:3,value:a.courseDescription,onChange:function(e){return r(Object(X.a)(Object(X.a)({},a),{},{courseDescription:e.target.value}))},required:!0}),Object(j.jsx)(Q.a,{label:"Faculty",className:"my-2 col-lg-7 col-md-8 col-11",value:a.faculty,onChange:function(e){return r(Object(X.a)(Object(X.a)({},a),{},{faculty:e.target.value}))},required:!0}),Object(j.jsxs)(Q.a,{label:"School",select:!0,className:"my-2 col-lg-7 col-md-8 col-11",value:a.school,onChange:function(e){return r(Object(X.a)(Object(X.a)({},a),{},{school:e.target.value}))},required:!0,SelectProps:{native:!0},children:[Object(j.jsx)("option",{value:"Seas",children:"SEAS"}),Object(j.jsx)("option",{value:"Amsom",children:"AMSOM"}),Object(j.jsx)("option",{value:"Sas",children:"SAS"})]}),Object(j.jsxs)("div",{className:"my-2",children:[Object(j.jsxs)("div",{className:"d-flex align-items-end",children:[Object(j.jsx)(Q.a,{label:"Category",required:!0,inputRef:f}),Object(j.jsx)(K.a,{variant:"contained",color:"secondary",className:"ms-3",onClick:function(){if(""!==f.current.value){var e=a.categoryIds;e.push(f.current.value),r(Object(X.a)(Object(X.a)({},a),{},{categoryIds:e})),f.current.value=""}},children:"Add"})]}),a.categoryIds.map((function(e,t){return Object(j.jsx)(Ze.a,{className:"my-2",label:e,onDelete:v(e),variant:"outlined",color:"secondary"},t)}))]}),Object(j.jsxs)("div",{className:"my-2",children:[Object(j.jsxs)("div",{className:"d-flex mt-4 align-items-end",children:[Object(j.jsx)(Q.a,{label:"Day",select:!0,className:"me-2",SelectProps:{native:!0},inputRef:p,children:h.map((function(e,t){return Object(j.jsx)("option",{value:t,children:e})}))}),Object(j.jsx)(Q.a,{label:"ST",focused:!0,type:"time",className:"me-2",inputRef:O}),Object(j.jsx)(Q.a,{label:"ET",focused:!0,type:"time",inputRef:x}),Object(j.jsx)(K.a,{variant:"contained",color:"secondary",className:"ms-3",onClick:function(){if(""!==p.current.value&&""!==O.current.value&&""!==x.current.value){var e=a.schedule;e.push({day:p.current.value,time:"".concat(O.current.value,"-").concat(x.current.value)}),r(Object(X.a)(Object(X.a)({},a),{},{schedule:e})),p.current.value=0,O.current.value="",x.current.value=""}},children:"Add"})]}),a.schedule.map((function(e,t){return Object(j.jsx)(Ze.a,{className:"my-2",label:"".concat(h[e.day],"  ").concat(e.time),onDelete:y(e),variant:"outlined",color:"secondary"},t)}))]})]}),Object(j.jsxs)(ye.a,{children:[Object(j.jsx)(K.a,{variant:"outlined",onClick:function(){r(s),e.close()},children:"Cancel"}),Object(j.jsx)(K.a,{variant:"contained",onClick:e.course?w:N,disabled:!d,color:"primary",children:"Save"})]})]})]})}function et(){var e=Object(c.useState)("loading"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),b=d[0],m=d[1],f=Object(c.useState)(-1),p=Object(o.a)(f,2),O=p[0],x=p[1],h=Object(c.useState)(-1),v=Object(o.a)(h,2),y=v[0],N=v[1],w=Object(c.useState)(!1),C=Object(o.a)(w,2),k=C[0],S=C[1],I=Object(c.useContext)(J).setGlobalLoading,q=Object(c.useState)(1),P=Object(o.a)(q,2),E=P[0],D=P[1],R=Object(c.useState)({open:!1,idx:!1}),U=Object(o.a)(R,2),M=U[0],F=U[1],W=Object(c.useState)(A.value),L=Object(o.a)(W,2),z=L[0],_=L[1],G=Object(c.useRef)(""),H=Object(c.useState)(0),X=Object(o.a)(H,2),V=X[0],ee=X[1],ce=Object(c.useRef)(""),se=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],oe=function(){F({open:!1,idx:!1})},le=function(){var e=document.querySelectorAll(".course-details"),t=document.querySelector(".course-container"),n=document.querySelector("#main-container");if(void 0!==e&&void 0!==t&&e.length>0)if(n.offsetWidth<e[0].offsetWidth)for(var c=0;c<e.length;c++)e[c].style.transform="scaleX(".concat(n.offsetWidth/e[c].offsetWidth-.003,")"),e[c].style.transformOrigin="center 0%";else for(var a=0;a<e.length;a++)e[a].style.transform="scale(1)",e[a].style.transformOrigin="0% 0%",t.style.rowGap="0rem 0.8rem"};console.log(n);var ue=function(){var e=Object(Y.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,ze(ce.current.value);case 4:t=e.sent,l(!1),t.status?a(t.courses):(a([]),ie.a.error("Unable to get Courses")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),l(!1),ie.a.error("Unable to get Courses");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(Y.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(),I(!0),e.prev=2,e.next=5,We(t);case 5:if(!(n=e.sent).status){e.next=14;break}return ie.a.success(n.message),e.next=10,ue();case 10:x(-1),I(!1),e.next=16;break;case 14:ie.a.error(n.message),I(!1);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),I(!1),ie.a.error("Unable to Delete Course");case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),je=function(e,t,c){var r=[];n.map((function(n){if(n._id===e){var a=n;a.ratings.push({rating:c,comment:t}),r.push(a)}else r.push(n)})),a(r)},be=function(){var e=Object(Y.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,Fe(t,G.current.value,E);case 4:(n=e.sent).status?(ie.a.success(n.message),je(t,G.current.value,E),G.current.value="",D(1),I(!1)):(ie.a.error(n.message),I(!1)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),I(!1),ie.a.error("Unable to Add Rating");case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),me=function(e){D(parseInt(e))},fe=function(e){var t=0;return e.ratings.map((function(e,n){t+=e.rating})),0===(t=parseInt(t/e.ratings.length))&&(t=1),t};return Object(c.useEffect)((function(){var e=A.subscribe((function(e){return _(e)}));return function(){e.unsubscribe()}}),[]),Object(c.useEffect)((function(){ue()}),[]),Object(c.useEffect)((function(){return le(),window.addEventListener("resize",le),function(){window.removeEventListener("resize",le)}}),[n]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"w-100 mt-4 px-lg-5 px-md-4 px-1 d-flex justify-content-between align-items-center",children:[Object(j.jsx)(K.a,{variant:"contained",onClick:function(){return m(!0)},startIcon:Object(j.jsx)(Z.a,{}),color:"primary",children:"Add Course"}),Object(j.jsx)(Q.a,{inputRef:ce,label:"Search",InputProps:{endAdornment:Object(j.jsx)(Ie.a,{children:Object(j.jsx)(Te.a,{style:{cursor:"pointer"},onClick:function(){return ue()}})})}})]}),"loading"===n||i?Object(j.jsx)("div",{className:"w-100 mt-4 text-center",children:Object(j.jsx)(g.a,{size:15,margin:2,color:"#36D7B7"})}):Object(j.jsx)(j.Fragment,{children:0===n.length?Object(j.jsxs)("h4",{className:"text-center mt-5 no-data-found",children:["No Data Found ",Object(j.jsx)($.a,{})]}):Object(j.jsxs)("div",{className:"w-100 my-4 d-flex flex-column justify-content-between align-items-center course-container px-lg-5 px-md-4 px-1 mx-auto",children:[Object(j.jsxs)("div",{className:"w-100 d-flex  align-items-center py-0 header",children:[Object(j.jsx)("span",{className:"col-1 text-center",children:"#"}),Object(j.jsx)("span",{className:"col-2 text-center",children:"Code"}),Object(j.jsx)("span",{className:"col-3 text-center",style:{textAlign:"right"},children:"Name"}),Object(j.jsx)("span",{className:"col-2 text-center",children:"Credits"}),Object(j.jsx)("span",{className:"col-3 text-center",children:"School"}),Object(j.jsx)("span",{className:"col-1 text-center"})]}),n.slice(10*V,Math.min(10*(V+1),n.length)).map((function(e,t){var n;return Object(j.jsxs)("span",{className:"w-100 course-details",children:[Object(j.jsxs)("div",{className:"w-100 d-flex  align-items-center course py-0",children:[Object(j.jsx)("span",{className:"col-1 text-center",children:t+1}),Object(j.jsx)("span",{className:"col-2 text-center",children:e.courseCode}),Object(j.jsx)("span",{className:"col-3 text-center",children:e.courseName}),Object(j.jsx)("span",{className:"col-2 text-center completed",style:{backgroundColor:"white"},children:Object(j.jsx)("li",{children:e.credits})}),Object(j.jsx)("span",{className:"col-3 text-center",children:null===(n=e.school)||void 0===n?void 0:n.toUpperCase()}),Object(j.jsx)("span",{className:"col-1 text-center",children:O!==t?Object(j.jsx)(te.a,{onClick:function(){return x(t)},style:{color:"lightgrey",cursor:"pointer"}}):Object(j.jsx)(ne.a,{onClick:function(){return x(-1)},style:{color:"lightgrey",cursor:"pointer"}})})]}),O===t&&Object(j.jsxs)("div",{className:"w-100 mt-4 ps-3 mb-3 course-description",children:[z.isAdmin&&Object(j.jsxs)("div",{className:"mt-3 mb-3 d-flex justify-content-end align-items-center flex-wrap me-3",children:[Object(j.jsx)(K.a,{variant:"outlined",onClick:Object(Y.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:m(!0);case 3:case"end":return t.stop()}}),t)}))),startIcon:Object(j.jsx)(ae.a,{}),children:"Edit"}),Object(j.jsx)(K.a,{variant:"contained",onClick:function(){F({open:!0,idx:e._id})},startIcon:Object(j.jsx)(re.a,{}),className:"delete-btn",children:"Delete"})]}),Object(j.jsx)("h5",{children:"Description:"}),Object(j.jsx)("p",{className:"px-3",children:e.courseDescription}),Object(j.jsx)("h5",{className:"mt-2",children:"Prerequisites:"}),Object(j.jsx)("p",{className:"px-3",children:e.prerequisites.map((function(t,n){return"".concat(t).concat(n!==e.prerequisites.length-1?",":"")}))}),Object(j.jsx)("h5",{children:"Faculty:"}),Object(j.jsx)("p",{className:"px-3",children:e.faculty}),Object(j.jsx)("h5",{className:"mt-2",children:"Category:"}),Object(j.jsx)("p",{className:"px-3",children:e.categoryIds.map((function(t,n){return"".concat(t).concat(n!==e.categoryIds.length-1?",":"")}))}),Object(j.jsx)("h5",{className:"mt-2",children:"Schedule:"}),Object(j.jsx)("p",{className:"px-3 d-flex flex-column",children:e.schedule.map((function(e,t){return Object(j.jsx)("p",{children:"".concat(se[e.day],"  ").concat(e.time)})}))}),Object(j.jsx)("h5",{className:"mt-2",children:"Ratings:"}),0!==e.ratings.length&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h4",{className:"ps-3 d-flex align-items-center",children:[Object(j.jsxs)("span",{className:"me-2",children:[fe(e),".0"]})," ",Object(j.jsx)(Ve,{readonly:!0,value:fe(e)})]}),y!==t?Object(j.jsx)(K.a,{color:"primary",onClick:function(){return N(t)},startIcon:Object(j.jsx)(Ye.a,{}),children:"Show Reviews"}):Object(j.jsx)(K.a,{color:"primary",onClick:function(){return N(-1)},startIcon:Object(j.jsx)(qe.a,{}),children:"Hide Reviews"})]}),y===t&&Object(j.jsx)("div",{className:"mt-3 d-flex flex-column rating-container",children:e.ratings.map((function(e,t){return Object(j.jsxs)("span",{className:"ms-3 d-flex flex-column",children:[Object(j.jsx)(Ve,{readonly:!0,value:e.rating})," ",e.comment]},t)}))}),Object(j.jsxs)("div",{className:"w-100 d-flex align-items-end",children:[Object(j.jsx)(Q.a,{label:"Comment",inputRef:G}),Object(j.jsx)(Ve,{value:E,setRating:function(e){return me(e)}}),Object(j.jsx)(K.a,{variant:"contained",color:"secondary",onClick:function(){return be(e._id)},children:"Add Rating"})]})]})]},e._id)})),Object(j.jsxs)("div",{className:"w-100 d-flex justify-content-end align-items-center py-0 me-2",children:[Object(j.jsx)(B.a,{size:"small",disabled:0===V,onClick:function(){return ee(0)},children:Object(j.jsx)(Pe.a,{})}),Object(j.jsx)(B.a,{size:"small",disabled:0===V,onClick:function(){return ee((function(e){return e-1}))},children:Object(j.jsx)(Ae.a,{})}),Object(j.jsx)(B.a,{size:"small",disabled:V===Math.ceil(n.length/10)-1,onClick:function(){return ee((function(e){return e+1}))},children:Object(j.jsx)(te.a,{})}),Object(j.jsx)(B.a,{className:"me-2",size:"small",disabled:V===Math.ceil(n.length/10)-1,onClick:function(){return ee(Math.ceil(n.length/10)-1)},children:Object(j.jsx)(Ee.a,{})}),"".concat(V+1," of ").concat(Math.ceil(n.length/10)," page")]})]})}),Object(j.jsx)($e,{open:b,FetchCourses:ue,updateCourse:function(e){var t=n.map((function(t){return t._id==e._id?e:t}));a(t)},course:k,close:function(){m(!1),S(!1)}}),Object(j.jsx)(Ne,{open:M.open,item:"Course",close:oe,action:function(){return de(M.idx)}})]})}function tt(){return nt.apply(this,arguments)}function nt(){return(nt=Object(Y.a)(T.a.mark((function e(){var t,n=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.abrupt("return",fetch("/api/auth/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:t})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,message:"Unable to get Students"}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(66);function ct(e){var t=Object(c.useContext)(J).setGlobalLoading,n=Object(c.useState)([]),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)({semester:"Monsoon",year:oe()().format("YYYY"),course:""}),l=Object(o.a)(i,2),u=l[0],d=l[1];Object(c.useEffect)((function(){var t=[];console.log(e),s([]);for(var n=0;n<e.students.length;n++)e.select.current[n].checked&&t.push({student:e.students[n]._id});s(t)}),[]);for(var b=new Map,m=[],f=0;f<e.courses.length;f++)m.push(Object(j.jsx)("option",{value:e.courses[f].courseCode},e.courses[f]._id)),b.set(e.courses[f].courseCode,e.courses[f]._id);var p=function(){var n=Object(Y.a)(T.a.mark((function n(){var c;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(!0),n.prev=1,n.next=4,He(r,u,b);case 4:(c=n.sent).status?(t(!1),ie.a.success(c.message),e.close()):(t(!1),ie.a.error("Unable to Enroll Students")),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(!1),ie.a.error("Unable to Enroll Students");case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}();return Object(j.jsxs)(he.a,{open:e.open,fullWidth:!0,className:"operation-dialog",children:[Object(j.jsx)(ye.a,{children:Object(j.jsx)(we.a,{onClick:function(){e.close()},style:{color:"lightgrey",cursor:"pointer"}})}),Object(j.jsx)(ge.a,{className:"dialog-title",children:"Enroll Students"}),Object(j.jsxs)(ve.a,{children:[Object(j.jsxs)("form",{children:[Object(j.jsx)("h5",{className:0===r.length?"text-danger":"text-success",children:"".concat(r.length," students are selected")}),Object(j.jsx)(Q.a,{label:"Year",className:"my-2 col-lg-7 col-md-8 col-11",value:u.year,required:!0}),Object(j.jsx)(Q.a,{label:"Course",className:"my-2 col-lg-7 col-md-8 col-11",value:u.course,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{course:e.target.value}))},required:!0,inputProps:{list:"courses"}}),Object(j.jsx)("datalist",{id:"courses",children:m}),Object(j.jsxs)(Q.a,{label:"Semester",select:!0,className:"my-2 col-lg-7 col-md-8 col-11",value:u.semester,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{semester:e.target.value}))},required:!0,SelectProps:{native:!0},children:[Object(j.jsx)("option",{value:"Monsoon",children:"Monsoon"}),Object(j.jsx)("option",{value:"Winter",children:"Winter"}),Object(j.jsx)("option",{value:"Summer",children:"Summer"})]})]}),Object(j.jsxs)(ye.a,{children:[Object(j.jsx)(K.a,{variant:"outlined",onClick:function(){e.close()},children:"Cancel"}),Object(j.jsx)(K.a,{variant:"contained",disabled:0===r.length,onClick:p,color:"primary",children:"Save"})]})]})]})}function at(e){var t=Object(c.useContext)(J).setGlobalLoading,n=Object(c.useState)(!1),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)({firstName:"",lastName:"",emailId:"",isAdmin:!1,password:"",enrollmentNumber:"",confirmPassword:"",programme:"B.Tech"}),l=Object(o.a)(i,2),u=l[0],d=l[1];Object(c.useEffect)((function(){var e=!0;Object.keys(u).map((function(t){"isAdmin"!==t&&""===u[t]&&(e=!1)})),u.confirmPassword!==u.password&&(e=!1),s(e)}),[u]);var b=function(){var n=Object(Y.a)(T.a.mark((function n(c){var a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),t(!0),n.next=4,E(u);case 4:if(a=n.sent,t(!1),!a.status){n.next=13;break}return ie.a.success(a.message),n.next=10,e.FetchStudents();case 10:e.close(),n.next=14;break;case 13:ie.a.error(a.message);case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsxs)(he.a,{open:e.open,fullWidth:!0,className:"operation-dialog",children:[Object(j.jsx)(ye.a,{children:Object(j.jsx)(we.a,{onClick:function(){e.close()},style:{color:"lightgrey",cursor:"pointer"}})}),Object(j.jsx)(ge.a,{className:"dialog-title",children:"Add Student"}),Object(j.jsxs)(ve.a,{children:[Object(j.jsxs)("form",{children:[Object(j.jsx)(Q.a,{label:"First Name",required:!0,type:"text",className:"my-2 col-lg-7 col-md-8 col-11",value:u.firstName,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{firstName:e.target.value}))}}),Object(j.jsx)(Q.a,{label:"Last Name",required:!0,type:"text",className:"my-2 col-lg-7 col-md-8 col-11",value:u.lastName,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{lastName:e.target.value}))}}),Object(j.jsx)(Q.a,{label:"Enrollment Number",required:!0,type:"text",className:"my-2 col-lg-7 col-md-8 col-11",value:u.enrollmentNumber,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{enrollmentNumber:e.target.value}))}}),Object(j.jsxs)(Q.a,{label:"Programme",required:!0,select:!0,SelectProps:{native:!0},className:"my-2 col-lg-7 col-md-8 col-11",value:u.programme,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{programme:e.target.value}))},children:[Object(j.jsx)("option",{value:"B.Tech",children:"B.Tech"}),Object(j.jsx)("option",{value:"BS Hons",children:"Bs Hons"}),Object(j.jsx)("option",{value:"BA",children:"BA"}),Object(j.jsx)("option",{value:"B.B.A",children:"B.B.A"})]}),Object(j.jsx)(Q.a,{label:"Email",required:!0,type:"email",className:"my-2 col-lg-7 col-md-8 col-11",value:u.emailId,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{emailId:e.target.value}))}}),Object(j.jsx)(Q.a,{label:"Password",required:!0,type:"password",className:"my-2 col-lg-7 col-md-8 col-11",value:u.password,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{password:e.target.value}))}}),Object(j.jsx)(Q.a,{label:"Confirm Password",required:!0,type:"password",className:"my-2 col-lg-7 col-md-8 col-11",value:u.confirmPassword,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{confirmPassword:e.target.value}))}})]}),Object(j.jsxs)(ye.a,{children:[Object(j.jsx)(K.a,{variant:"outlined",onClick:function(){e.close()},children:"Cancel"}),Object(j.jsx)(K.a,{variant:"contained",disabled:!r,onClick:b,color:"primary",children:"Save"})]})]})]})}function rt(){var e=Object(c.useState)("loading"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),b=d[0],m=d[1],f=Object(c.useState)(!1),p=Object(o.a)(f,2),O=p[0],x=p[1],h=(Object(c.useContext)(J).setGlobalLoading,Object(c.useRef)("")),v=Object(c.useState)(A.value),y=Object(o.a)(v,2),N=(y[0],y[1]),w=Object(c.useRef)([]),C=Object(c.useState)(0),k=Object(o.a)(C,2),S=k[0],I=k[1],q=Object(c.useState)([]),P=Object(o.a)(q,2),E=P[0],D=P[1],R=Object(c.useRef)(""),U=Object(c.useState)([]),M=Object(o.a)(U,2);M[0],M[1];Object(c.useEffect)((function(){var e=A.subscribe((function(e){return N(e)}));return function(){e.unsubscribe()}}),[]);var F=function(){var e=document.querySelectorAll(".student-details"),t=document.querySelector(".student-container"),n=document.querySelector("#main-container");if(void 0!==e&&void 0!==t&&e.length>0)if(n.offsetWidth<e[0].offsetWidth)for(var c=0;c<e.length;c++)e[c].style.transform="scale(".concat(n.offsetWidth/e[c].offsetWidth-.03,")"),e[c].style.transformOrigin="center 0%";else for(var a=0;a<e.length;a++)e[a].style.transform="scale(1)",e[a].style.transformOrigin="0% 0%",t.style.rowGap="0rem 0.8rem"},W=function(){var e=Object(Y.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ze().then((function(e){e.status?D(e.courses):(D([]),ie.a.error("Unable to get Courses"))})).catch((function(e){ie.a.error("Unable to get Courses")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(Y.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,tt(R.current.value);case 4:t=e.sent,l(!1),console.log(t),t.status?a(t.students):(a([]),ie.a.error("Unable to get Students")),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),l(!1),console.log(e.t0),ie.a.error("Unable to get Students");case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){W(),L()}),[]),Object(c.useEffect)((function(){return F(),window.addEventListener("resize",F),function(){window.removeEventListener("resize",F)}}),[n]),console.log("Select",n),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"w-100 mt-4 px-lg-5 px-md-4 px-1 d-flex flex-wrap justify-content-between align-items-center",children:[Object(j.jsx)(K.a,{variant:"contained",onClick:function(){return x(!0)},startIcon:Object(j.jsx)(Z.a,{}),color:"primary",children:"Add Student"}),Object(j.jsx)(Q.a,{inputRef:R,label:"Search",InputProps:{endAdornment:Object(j.jsx)(Ie.a,{children:Object(j.jsx)(Te.a,{style:{cursor:"pointer"},onClick:function(){return L()}})})}})]}),"loading"===n||i?Object(j.jsx)("div",{className:"w-100 mt-4 text-center",children:Object(j.jsx)(g.a,{size:15,margin:2,color:"#36D7B7"})}):Object(j.jsx)(j.Fragment,{children:0===n.length?Object(j.jsxs)("h4",{className:"text-center mt-5 no-data-found",children:["No Data Found ",Object(j.jsx)($.a,{})]}):Object(j.jsxs)("div",{className:"w-100 my-4 d-flex flex-column justify-content-between align-items-center student-container px-lg-5 px-md-4 px-1 mx-auto",children:[Object(j.jsxs)("div",{className:"w-100 d-flex  align-items-center py-0 header",children:[Object(j.jsx)("span",{className:"col-1 text-center",children:Object(j.jsx)("input",{ref:h,type:"checkbox",onChange:function(e){return function(){for(var e=0;e<w.current.length;e++)w.current[e].checked=h.current.checked}()},style:{color:"#0d6efd"}})}),Object(j.jsx)("span",{className:"col-3 text-center",children:"Id"}),Object(j.jsx)("span",{className:"col-3 text-center",style:{textAlign:"right"},children:"Name"}),Object(j.jsx)("span",{className:"col-4 text-center",children:"Email-id"}),Object(j.jsx)("span",{className:"col-1 text-center",children:"Programme"})]}),n.map((function(e,t){return Object(j.jsx)("span",{className:"w-100 student-details "+(t>=10*S&&t<Math.min(10*(S+1),n.length)?"":"hindrence"),children:Object(j.jsxs)("div",{className:"w-100 d-flex  align-items-center student py-0",children:[Object(j.jsx)("span",{className:"col-1 text-center",children:Object(j.jsx)("input",{type:"checkbox",ref:function(e){return w.current[t]=e}})}),Object(j.jsx)("span",{className:"col-3 text-center",children:e.enrollmentNumber}),Object(j.jsx)("span",{className:"col-3 text-center",children:e.firstName}),Object(j.jsx)("span",{className:"col-4 text-center",children:e.emailId}),Object(j.jsx)("span",{className:"col-1 text-center",children:e.programme})]})},e._id)})),Object(j.jsxs)("div",{className:"w-100 d-flex justify-content-between align-items-center py-0 mx-2",children:[Object(j.jsx)(K.a,{variant:"contained",onClick:Object(Y.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0);case 1:case"end":return e.stop()}}),e)}))),color:"secondary",children:"Action"}),Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsx)(B.a,{size:"small",disabled:0===S,onClick:function(){return I(0)},children:Object(j.jsx)(Pe.a,{})}),Object(j.jsx)(B.a,{size:"small",disabled:0===S,onClick:function(){return I((function(e){return e-1}))},children:Object(j.jsx)(Ae.a,{})}),Object(j.jsx)(B.a,{size:"small",disabled:S===Math.ceil(n.length/10)-1,onClick:function(){return I((function(e){return e+1}))},children:Object(j.jsx)(te.a,{})}),Object(j.jsx)(B.a,{className:"me-2",size:"small",disabled:S===Math.ceil(n.length/10)-1,onClick:function(){return I(Math.ceil(n.length/10)-1)},children:Object(j.jsx)(Ee.a,{})}),"".concat(S+1," of ").concat(Math.ceil(n.length/10)," page")]})]})]})}),O&&Object(j.jsx)(at,{FetchStudents:L,open:O,close:function(){x(!1)}}),b&&Object(j.jsx)(ct,{open:b,students:n,select:w,courses:E,close:function(){m(!1)}})]})}var st=n(182);n(110);function ot(){var e=Object(c.useState)("loading"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)(-1),d=Object(o.a)(u,2),b=d[0],m=d[1],f=Object(c.useState)(-1),p=Object(o.a)(f,2),O=p[0],x=p[1],h=Object(c.useContext)(J).setGlobalLoading,v=Object(c.useState)(1),y=Object(o.a)(v,2),N=y[0],w=y[1],C=Object(c.useState)(A.value),k=Object(o.a)(C,2),S=k[0],I=k[1],q=Object(c.useRef)(""),P=Object(c.useState)(0),E=Object(o.a)(P,2),D=E[0],R=E[1],U=Object(c.useState)(0),M=Object(o.a)(U,2),F=M[0],W=M[1],L=Object(c.useState)(""),z=Object(o.a)(L,2),_=z[0],G=z[1],H=Object(c.useState)(parseInt(se().format("YYYY"))),X=Object(o.a)(H,2),V=X[0],Z=X[1];Object(c.useEffect)((function(){var e=A.subscribe((function(e){return I(e)}));return function(){e.unsubscribe()}}),[]);var ee=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ce=function(){var e=document.querySelectorAll(".course-details"),t=document.querySelector(".course-container"),n=document.querySelector("#main-container");if(void 0!==e&&void 0!==t&&e.length>0)if(n.offsetWidth<e[0].offsetWidth)for(var c=0;c<e.length;c++)e[c].style.transform="scaleX(".concat(n.offsetWidth/e[c].offsetWidth-.003,")"),e[c].style.transformOrigin="center 0%";else for(var a=0;a<e.length;a++)e[a].style.transform="scale(1)",e[a].style.transformOrigin="0% 0%",t.style.rowGap="0rem 0.8rem"};console.log(n);var ae=function(){var e=Object(Y.a)(T.a.mark((function e(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"===S||null===S){e.next=15;break}return l(!0),e.prev=2,e.next=5,Ge(_,V);case 5:t=e.sent,l(!1),console.log(t),t.status?(n=0,t.enrollments.map((function(e){n+=parseInt(e.course[0].credits)})),W(n),a(t.enrollments)):(a([]),ie.a.error("Unable to get Courses")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),l(!1),ie.a.error("Unable to get Courses");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),re=function(e,t,c){var r=[];n.map((function(n){if(n._id===e){var a=n;a.ratings.push({rating:c,comment:t}),r.push(a)}else r.push(n)})),a(r)},oe=function(){var e=Object(Y.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,Fe(t,q.current.value,N);case 4:(n=e.sent).status?(ie.a.success(n.message),re(t,q.current.value,N),q.current.value="",w(1),h(!1)):(ie.a.error(n.message),h(!1)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),h(!1),ie.a.error("Unable to Add Rating");case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),le=function(e){w(parseInt(e))},ue=function(e){var t=0;return e.ratings.map((function(e,n){t+=e.rating})),0===(t=parseInt(t/e.ratings.length))&&(t=1),t};return Object(c.useEffect)((function(){ae()}),[_,V]),Object(c.useEffect)((function(){return ce(),window.addEventListener("resize",ce),function(){window.removeEventListener("resize",ce)}}),[n]),Object(j.jsx)(j.Fragment,{children:"loading"===n||i?Object(j.jsx)("div",{className:"w-100 mt-4 text-center",children:Object(j.jsx)(g.a,{size:15,margin:2,color:"#36D7B7"})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"w-100 mt-4 px-lg-5 px-md-4 px-1 d-flex justify-content-between align-items-end",children:[Object(j.jsxs)(K.a,{className:"credits-button",variant:"contained",startIcon:Object(j.jsx)(st.a,{style:{color:"rgb(99, 231, 134)"}}),disabled:!0,children:["credits: ",F]}),Object(j.jsxs)("div",{className:"d-flex flex-wrap align-items-start mt-2",children:[Object(j.jsxs)(Q.a,{label:"Semester",select:!0,focused:!0,value:_,className:"me-2 mb-2",onChange:function(e){return G(e.target.value)},SelectProps:{native:!0},children:[Object(j.jsx)("option",{value:"",children:"All"}),Object(j.jsx)("option",{value:"Monsoon",children:"Monsoon"}),Object(j.jsx)("option",{value:"Winter",children:"Winter"}),Object(j.jsx)("option",{value:"Summer",children:"Summer"})]}),Object(j.jsxs)(Q.a,{label:"Year",select:!0,focused:!0,value:V,onChange:function(e){return Z(e.target.value)},SelectProps:{native:!0},children:[Object(j.jsx)("option",{value:"",children:"All"}),Object(j.jsx)("option",{value:parseInt(se().format("YYYY"))-3,children:parseInt(se().format("YYYY"))-3}),Object(j.jsx)("option",{value:parseInt(se().format("YYYY"))-2,children:parseInt(se().format("YYYY"))-2}),Object(j.jsx)("option",{value:parseInt(se().format("YYYY"))-1,children:parseInt(se().format("YYYY"))-1}),Object(j.jsx)("option",{value:parseInt(se().format("YYYY")),children:parseInt(se().format("YYYY"))}),Object(j.jsx)("option",{value:parseInt(se().format("YYYY"))+1,children:parseInt(se().format("YYYY"))+1}),Object(j.jsx)("option",{value:parseInt(se().format("YYYY"))+2,children:parseInt(se().format("YYYY"))+2}),Object(j.jsx)("option",{value:parseInt(se().format("YYYY"))+3,children:parseInt(se().format("YYYY"))+3})]})]})]}),0===n.length?Object(j.jsxs)("h4",{className:"text-center mt-5 no-data-found",children:["No Data Found ",Object(j.jsx)($.a,{})]}):Object(j.jsxs)("div",{className:"w-100 my-4 d-flex flex-column justify-content-between align-items-center course-container px-lg-5 px-md-4 px-1 mx-auto",children:[Object(j.jsxs)("div",{className:"w-100 d-flex  align-items-center py-0 header",children:[Object(j.jsx)("span",{className:"col-1 text-center",children:"#"}),Object(j.jsx)("span",{className:"col-2 text-center",children:"Code"}),Object(j.jsx)("span",{className:"col-3 text-center",children:"Name"}),Object(j.jsx)("span",{className:"col-2 text-center",children:"Credits"}),Object(j.jsx)("span",{className:"col-2 text-center",children:"Semester"}),Object(j.jsx)("span",{className:"col-1 text-center",children:"Year"}),Object(j.jsx)("span",{className:"col-1 text-center"})]}),n.slice(10*D,Math.min(10*(D+1),n.length)).map((function(e,t){return Object(j.jsxs)("span",{className:"w-100 course-details",children:[Object(j.jsxs)("div",{className:"w-100 d-flex  align-items-center course py-0",children:[Object(j.jsx)("span",{className:"col-1 text-center",children:t+1}),Object(j.jsx)("span",{className:"col-2 text-center",children:e.course[0].courseCode}),Object(j.jsx)("span",{className:"col-3 text-center",children:e.course[0].courseName}),Object(j.jsx)("span",{className:"col-2 text-center completed",style:{backgroundColor:"white"},children:Object(j.jsx)("li",{children:e.course[0].credits})}),Object(j.jsx)("span",{className:"col-2 text-center",children:e.semester}),Object(j.jsx)("span",{className:"col-1 text-center",children:e.year}),Object(j.jsx)("span",{className:"col-1 text-center",children:b!==t?Object(j.jsx)(te.a,{onClick:function(){return m(t)},style:{color:"lightgrey",cursor:"pointer"}}):Object(j.jsx)(ne.a,{onClick:function(){return m(-1)},style:{color:"lightgrey",cursor:"pointer"}})})]}),b===t&&Object(j.jsxs)("div",{className:"w-100 mt-4 ps-3 mb-3 course-description",children:[Object(j.jsx)("h5",{children:"Description:"}),Object(j.jsx)("p",{className:"px-3",children:e.course[0].courseDescription}),Object(j.jsx)("h5",{className:"mt-2",children:"Prerequisites:"}),Object(j.jsx)("p",{className:"px-3",children:e.course[0].prerequisites.map((function(t,n){return"".concat(t).concat(n!==e.course[0].prerequisites.length-1?",":"")}))}),Object(j.jsx)("h5",{children:"Faculty:"}),Object(j.jsx)("p",{className:"px-3",children:e.course[0].faculty}),Object(j.jsx)("h5",{className:"mt-2",children:"Category:"}),Object(j.jsx)("p",{className:"px-3",children:e.course[0].categoryIds.map((function(t,n){return"".concat(t).concat(n!==e.course[0].categoryIds.length-1?",":"")}))}),Object(j.jsx)("h5",{className:"mt-2",children:"Schedule:"}),Object(j.jsx)("p",{className:"px-3 d-flex flex-column",children:e.course[0].schedule.map((function(e,t){return Object(j.jsx)("p",{children:"".concat(ee[e.day],"  ").concat(e.time)})}))}),Object(j.jsx)("h5",{className:"mt-2",children:"Ratings:"}),0!==e.course[0].ratings.length&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h4",{className:"ps-3 d-flex align-items-center",children:[Object(j.jsxs)("span",{className:"me-2",children:[ue(e.course[0]),".0"]})," ",Object(j.jsx)(Ve,{readonly:!0,value:ue(e.course[0])})]}),O!==t?Object(j.jsx)(K.a,{color:"primary",onClick:function(){return x(t)},startIcon:Object(j.jsx)(Ye.a,{}),children:"Show Reviews"}):Object(j.jsx)(K.a,{color:"primary",onClick:function(){return x(-1)},startIcon:Object(j.jsx)(qe.a,{}),children:"Hide Reviews"})]}),O===t&&Object(j.jsx)("div",{className:"mt-3 d-flex flex-column rating-container",children:e.course[0].ratings.map((function(e,t){return Object(j.jsxs)("span",{className:"ms-3 d-flex flex-column",children:[Object(j.jsx)(Ve,{readonly:!0,value:e.rating})," ",e.comment]},t)}))}),Object(j.jsxs)("div",{className:"w-100 d-flex align-items-end",children:[Object(j.jsx)(Q.a,{label:"Comment",inputRef:q}),Object(j.jsx)(Ve,{value:N,setRating:function(e){return le(e)}}),Object(j.jsx)(K.a,{variant:"contained",color:"secondary",onClick:function(){return oe(e._id)},children:"Add Rating"})]})]})]},e._id)})),Object(j.jsxs)("div",{className:"w-100 d-flex justify-content-end align-items-center py-0 me-2",children:[Object(j.jsx)(B.a,{size:"small",disabled:0===D,onClick:function(){return R(0)},children:Object(j.jsx)(Pe.a,{})}),Object(j.jsx)(B.a,{size:"small",disabled:0===D,onClick:function(){return R((function(e){return e-1}))},children:Object(j.jsx)(Ae.a,{})}),Object(j.jsx)(B.a,{size:"small",disabled:D===Math.ceil(n.length/10)-1,onClick:function(){return R((function(e){return e+1}))},children:Object(j.jsx)(te.a,{})}),Object(j.jsx)(B.a,{className:"me-2",size:"small",disabled:D===Math.ceil(n.length/10)-1,onClick:function(){return R(Math.ceil(n.length/10)-1)},children:Object(j.jsx)(Ee.a,{})}),"".concat(D+1," of ").concat(Math.ceil(n.length/10)," page")]})]})]})})}var it=["Todos","Courses","Students"],lt=["Todos","My Courses","Course","Time Table"],ut=[Object(j.jsx)(Se,{}),Object(j.jsx)(ot,{}),Object(j.jsx)(et,{})],dt=[Object(j.jsx)(Se,{}),Object(j.jsx)(et,{}),Object(j.jsx)(rt,{})];function jt(e){var t,n=x(),a=Object(c.useState)("loading"),r=Object(o.a)(a,2),s=r[0],i=r[1],u=Object(c.useState)(null),d=Object(o.a)(u,2),b=d[0],m=d[1],f=(Object(l.f)().pathname.split("/")[1],Object(c.useContext)(J).setGlobalLoading,Object(c.useContext)(k).navigator);Object(c.useEffect)((function(){var e=A.subscribe((function(e){i(e)}));return function(){e.unsubscribe()}}));var p=function(){m(null)};return Object(j.jsx)(F.a,{className:"appBar px-2 py-1",children:Object(j.jsxs)("div",{className:"d-flex px-lg-4 px-md-3 px-1 justify-content-between align-items-center navbar",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsx)(B.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:e.handleDrawerToggle,className:n.menuButton+" collapsable-bars",children:Object(j.jsx)(_.a,{style:{color:"rgba(197, 199, 205, 1)"}})}),Object(j.jsx)("h3",{children:s.isAdmin?it[f]:lt[f]})]}),Object(j.jsxs)("div",{className:"d-flex align-items-center navbar-user-icon",children:[Object(j.jsxs)("span",{className:"d-flex align-items-center",onClick:function(e){m(e.currentTarget)},children:[Object(j.jsx)(W.a,{className:"avatar",variant:"circle",children:s&&(null===(t=s.emailId)||void 0===t?void 0:t.split(" ").map((function(e){return e.charAt(0).toUpperCase()})))}),Object(j.jsx)(G.a,{style:{color:"rgba(54, 123, 245, 1)"}})]}),Object(j.jsxs)(L.a,{anchorEl:b,open:Boolean(b),onClose:p,style:{marginTop:"30px"},children:[Object(j.jsx)(z.a,{onClick:p,children:"Profile"}),Object(j.jsx)(z.a,{onClick:function(){return console.log("enterd"),window.localStorage.removeItem("StudentToken"),void A.next(P())},children:"Logout"})]})]})]})})}var bt=function(e){var t=e.window,n=x(),r=Object(v.a)(),s=a.a.useState(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useContext)(k).navigator,b=function(){u(!l)},p=Object(c.useState)(A.value),O=Object(o.a)(p,2),h=O[0],y=O[1];Object(c.useEffect)((function(){var e=A.subscribe((function(e){return y(e)}));return function(){e.unsubscribe()}}),[]);var N=void 0!==t?function(){return t().document.body}:void 0;return Object(c.useEffect)((function(){null===A.value&&(t.location="/")}),[]),Object(j.jsxs)("div",{className:n.root,children:[Object(j.jsx)(jt,{handleDrawerToggle:b}),Object(j.jsxs)("nav",{className:n.drawer,"aria-label":"mailbox folders",children:[Object(j.jsx)(f.a,{smUp:!0,implementation:"css",children:Object(j.jsx)(m.a,{container:N,variant:"temporary",anchor:"rtl"===r.direction?"right":"left",open:l,onClose:b,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0},children:Object(j.jsx)(M,{})})}),Object(j.jsx)(f.a,{xsDown:!0,implementation:"css",children:Object(j.jsx)(m.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0,children:Object(j.jsx)(M,{})})})]}),Object(j.jsx)("main",{className:n.content,children:Object(j.jsx)("div",{className:"w-100 mt-lg-5 mt-md-5 mt-4 pt-lg-3 pt-md-3 pt-4 main-container",id:"main-container",children:"loading"===h||null===h?Object(j.jsx)("div",{className:"w-100 mt-4 text-center",children:Object(j.jsx)(g.a,{size:15,margin:2,color:"#36D7B7"})}):Object(j.jsxs)(j.Fragment,{children:[h.isAdmin?dt[d]:ut[d]," "]})})})]})};function mt(){var e=Object(c.useState)(A.value),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(J).setGlobalLoading,s=Object(c.useState)({emailId:"",password:""}),l=Object(o.a)(s,2),u=l[0],d=l[1];Object(c.useEffect)((function(){var e=A.subscribe((function(e){return a(e)}));return function(){e.unsubscribe()}}),[]),Object(c.useEffect)((function(){null!==n&&(window.location="/")}),[]);var b=function(){var e=Object(Y.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),e.next=4,R(u);case 4:n=e.sent,r(!1),n.status?(ie.a.success(n.message),window.location="/"):ie.a.error(n.message);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:null===n&&Object(j.jsx)("div",{className:"d-flex justify-content-center align-items-center login-page py-4",children:Object(j.jsxs)("form",{onSubmit:function(e){return b(e)},className:"col-lg-5 col-md-5 col-11 px-lg-5 px-md-4 px-2 shadow py-5 mb-5",children:[Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("img",{className:"mx-auto",height:150,src:"guide.png"})}),Object(j.jsx)("h1",{className:"text-center py-2",children:"Login"}),Object(j.jsx)(Q.a,{label:"Email",required:!0,type:"email",className:"mx-3 mt-3 mb-3 col-10",value:u.emailId,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{emailId:e.target.value}))}}),Object(j.jsx)(Q.a,{label:"Password",required:!0,type:"password",className:"mx-3 mb-5 col-10",value:u.password,onChange:function(e){return d(Object(X.a)(Object(X.a)({},u),{},{password:e.target.value}))}}),Object(j.jsx)("div",{className:"d-flex justify-content-center align-items-enter",children:Object(j.jsx)(K.a,{type:"submit",variant:"contained",disabled:""===u.emailId||""===u.password,className:"text-center mx-auto w-50",color:"primary",children:"Submit"})}),Object(j.jsx)("div",{className:"w-100 my-3 divider"}),Object(j.jsxs)("p",{className:"text-center",children:["Create account ",Object(j.jsx)(i.b,{to:"/register",children:"Register"})]})]})})})}function ft(){var e=Object(c.useState)(A.value),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(J).setGlobalLoading,s=Object(c.useState)(!1),l=Object(o.a)(s,2),u=l[0],d=l[1],b=Object(c.useState)({firstName:"",lastName:"",emailId:"",isAdmin:!1,password:"",enrollmentNumber:"",confirmPassword:"",programme:"B.Tech"}),m=Object(o.a)(b,2),f=m[0],p=m[1];Object(c.useEffect)((function(){var e=A.subscribe((function(e){return a(e)}));return function(){e.unsubscribe()}}),[]),Object(c.useEffect)((function(){var e=!0;Object.keys(f).map((function(t){"isAdmin"!==t&&""===f[t]&&(e=!1)})),f.confirmPassword!==f.password&&(e=!1),d(e)}),[f]),Object(c.useEffect)((function(){null!==n&&(window.location="/")}),[]);var O=function(){var e=Object(Y.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),e.next=4,E(f);case 4:n=e.sent,r(!1),n.status?(ie.a.success(n.message),window.location="/login"):ie.a.error(n.message);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:null===n&&Object(j.jsx)("div",{className:"d-flex justify-content-center align-items-center register-page",children:Object(j.jsxs)("form",{onSubmit:function(e){return O(e)},className:"col-lg-5 col-md-5 col-11 px-lg-5 px-md-4 px-2 mt-5 shadow py-5",children:[Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("img",{className:"mx-auto",height:150,src:"guide.png"})}),Object(j.jsx)("h1",{className:"text-center py-2",color:"secondary",children:"Regsiter"}),Object(j.jsx)(Q.a,{label:"First Name",required:!0,type:"text",className:"mx-3 mt-3 mb-3 col-10",value:f.firstName,onChange:function(e){return p(Object(X.a)(Object(X.a)({},f),{},{firstName:e.target.value}))}}),Object(j.jsx)(Q.a,{label:"Last Name",required:!0,type:"text",className:"mx-3 mb-3 col-10",value:f.lastName,onChange:function(e){return p(Object(X.a)(Object(X.a)({},f),{},{lastName:e.target.value}))}}),Object(j.jsx)(Q.a,{label:"Enrollment Number",required:!0,type:"text",className:"mx-3 mb-3 col-10",value:f.enrollmentNumber,onChange:function(e){return p(Object(X.a)(Object(X.a)({},f),{},{enrollmentNumber:e.target.value}))}}),Object(j.jsxs)(Q.a,{label:"Programme",required:!0,select:!0,SelectProps:{native:!0},className:"mx-3 mb-3 col-10",value:f.programme,onChange:function(e){return p(Object(X.a)(Object(X.a)({},f),{},{programme:e.target.value}))},children:[Object(j.jsx)("option",{value:"B.Tech",children:"B.Tech"}),Object(j.jsx)("option",{value:"BS Hons",children:"Bs Hons"}),Object(j.jsx)("option",{value:"BA",children:"BA"}),Object(j.jsx)("option",{value:"B.B.A",children:"B.B.A"})]}),Object(j.jsx)(Q.a,{label:"Email",required:!0,type:"email",className:"mx-3 mb-3 col-10",value:f.emailId,onChange:function(e){return p(Object(X.a)(Object(X.a)({},f),{},{emailId:e.target.value}))}}),Object(j.jsx)(Q.a,{label:"Password",required:!0,type:"password",className:"mx-3 mb-3 col-10",value:f.password,onChange:function(e){return p(Object(X.a)(Object(X.a)({},f),{},{password:e.target.value}))}}),Object(j.jsx)(Q.a,{label:"Confirm Password",required:!0,type:"password",className:"mx-3 mb-5 col-10",value:f.confirmPassword,onChange:function(e){return p(Object(X.a)(Object(X.a)({},f),{},{confirmPassword:e.target.value}))}}),Object(j.jsx)("div",{className:"d-flex justify-content-center align-items-enter",children:Object(j.jsx)(K.a,{type:"submit",variant:"contained",disabled:!u,className:"text-center mx-auto w-50",color:"primary",children:"Submit"})}),Object(j.jsx)("div",{className:"w-100 my-3 divider"}),Object(j.jsxs)("p",{className:"text-center",children:["Already have account? ",Object(j.jsx)(i.b,{to:"/login",children:"Login"})]})]})})})}var pt=function(){var e=Object(c.useState)("loading"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(J),s=r.globalLoading;return r.setGlobalLoading,Object(c.useEffect)((function(){var e=A.subscribe((function(e){return a(e)}));return function(){e.unsubscribe()}}),[]),null===n&&"/login"!==window.location.pathname&&"/register"!==window.location.pathname&&(window.location="/login"),Object(j.jsxs)(j.Fragment,{children:[("loading"===n||s)&&Object(j.jsx)(b,{}),"loading"!==n&&Object(j.jsx)(i.a,{children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/",exact:!0,children:Object(j.jsx)(S,{children:Object(j.jsx)(bt,{})})}),Object(j.jsx)(l.a,{path:"/login",exact:!0,children:Object(j.jsx)(mt,{})}),Object(j.jsx)(l.a,{path:"/register",exact:!0,children:Object(j.jsx)(ft,{})})]})})]})},Ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,193)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};n(111);ie.a.configure({position:ie.a.POSITION.TOP_RIGHT,autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1}),s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(H,{children:Object(j.jsx)(pt,{})})}),document.getElementById("root")),Ot()},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},74:function(e,t,n){},97:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.11622a3b.chunk.js.map